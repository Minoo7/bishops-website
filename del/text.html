
<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="/css/result-light.css">


  <style id="compiled-css" type="text/css">
      .test:before		{
	content: "testing";
	color: red;
}
  </style>
  <script type="text/javascript">
    window.onload=function(){
      
var UID = {
	_current: 0,
	getNew: function(){
		this._current++;
		return this._current;
	}
};

HTMLElement.prototype.pseudoStyle = function(element,prop,value){
	var _this = this;
	var _sheetId = "pseudoStyles";
	var _head = document.head || document.getElementsByTagName('head')[0];
	var _sheet = document.getElementById(_sheetId) || document.createElement('style');
	_sheet.id = _sheetId;
	var className = "pseudoStyle" + UID.getNew();
	
	_this.className +=  " "+className; 
	
	_sheet.innerHTML += "\n."+className+":"+element+"{"+prop+":"+value+"}";
	_head.appendChild(_sheet);
	return this;
};

var div = document.getElementById("testDiv");
div.pseudoStyle("before","color","green");

    }

</script>

</head>
<body>
    <div id="testDiv" class="test">test2</div>
</body>
</html>
